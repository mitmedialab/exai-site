var app=function(t){"use strict";function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var n=e(t);function o(){}function r(t){return t()}function i(){return Object.create(null)}function l(t){t.forEach(r)}function c(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function d(t){t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function h(){return p(" ")}function g(){return p("")}function v(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function b(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function x(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function y(t,e,n){t.classList[n?"add":"remove"](e)}let w;function _(t){w=t}function k(t){(function(){if(!w)throw new Error("Function called outside component initialization");return w})().$$.on_mount.push(t)}const A=[],P=[],E=[],j=[],D=Promise.resolve();let N=!1;function L(t){E.push(t)}const M=new Set;let S=0;function O(){const t=w;do{for(;S<A.length;){const t=A[S];S++,_(t),T(t.$$)}for(_(null),A.length=0,S=0;P.length;)P.pop()();for(let t=0;t<E.length;t+=1){const e=E[t];M.has(e)||(M.add(e),e())}E.length=0}while(A.length);for(;j.length;)j.pop()();N=!1,M.clear(),_(t)}function T(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(L)}}const C=new Set;let q;function I(){q={r:0,c:[],p:q}}function W(){q.r||l(q.c),q=q.p}function F(t,e){t&&t.i&&(C.delete(t),t.i(e))}function H(t,e,n,o){if(t&&t.o){if(C.has(t))return;C.add(t),q.c.push((()=>{C.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function R(t){t&&t.c()}function B(t,e,n,o){const{fragment:i,on_mount:a,on_destroy:s,after_update:u}=t.$$;i&&i.m(e,n),o||L((()=>{const e=a.map(r).filter(c);s?s.push(...e):l(e),t.$$.on_mount=[]})),u.forEach(L)}function z(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Q(t,e){-1===t.$$.dirty[0]&&(A.push(t),N||(N=!0,D.then(O)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function U(t,e,n,r,c,a,s,u=[-1]){const f=w;_(t);const m=t.$$={fragment:null,ctx:null,props:a,update:o,not_equal:c,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:i(),dirty:u,skip_bound:!1,root:e.target||f.$$.root};s&&s(m.root);let p=!1;if(m.ctx=n?n(t,e.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return m.ctx&&c(m.ctx[e],m.ctx[e]=r)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](r),p&&Q(t,e)),n})):[],m.update(),p=!0,l(m.before_update),m.fragment=!!r&&r(m.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);m.fragment&&m.fragment.l(t),t.forEach(d)}else m.fragment&&m.fragment.c();e.intro&&F(t.$$.fragment),B(t,e.target,e.anchor,e.customElement),O()}_(f)}class X{$destroy(){z(this,1),this.$destroy=o}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function G(t){let e;return{c(){e=m("h1"),e.textContent="Loading webcam..."},m(t,n){u(t,e,n)},d(t){t&&d(e)}}}function J(t){let e,n,r,i,l,c,a=t[1]&&G();return{c(){a&&a.c(),e=h(),n=m("div"),r=m("div"),i=m("video"),l=h(),c=m("canvas"),b(i,"id","webcam"),b(i,"class","align-self-center svelte-e1esmm"),b(c,"id","overlay"),b(c,"class","svelte-e1esmm"),b(r,"id","webcam-container"),b(r,"class","svelte-e1esmm"),b(n,"class","py-3 px-3 svelte-e1esmm"),y(n,"video-border",!t[1])},m(o,d){a&&a.m(o,d),u(o,e,d),u(o,n,d),s(n,r),s(r,i),t[3](i),s(r,l),s(r,c),t[4](c)},p(t,[o]){t[1]?a||(a=G(),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),2&o&&y(n,"video-border",!t[1])},i:o,o:o,d(o){a&&a.d(o),o&&d(e),o&&d(n),t[3](null),t[4](null)}}}function K(t,e,o){let r,i;async function l(){let t=[];const e=await n.default.detectAllFaces(a,r);console.log(e);for(const n of e)t.push(n);!function(t){i.clearRect(0,0,c.width,c.height);const e=["red","blue","black","green","yellow","purple","orange"];let n=0;for(const o of t)i.fillStyle=i.strokeStyle=e[n%e.length],i.beginPath(),i.rect(c.width-o.box.x-o.box.width,o.box.y,o.box.width,o.box.height),i.lineWidth=2,i.stroke(),i.font="21px Arial",i.fillText(`Score: ${o.score.toFixed(4)}`,c.width-o.box.x-o.box.width,o.box.y-parseInt(o.box.y/10)),n++}(t)}let c,a=null,s=!0;return k((async()=>{try{const t=new Webcam(a,"user",c);o(2,c.width=a.width,c),o(2,c.height=a.height,c),t.start(),i=c.getContext("2d"),i.clearRect(0,0,c.width,c.height),async function(){await n.default.loadSsdMobilenetv1Model("./models"),r=new n.default.SsdMobilenetv1Options({minConfidence:.75}),console.log("Model loaded")}(),o(1,s=!1),setInterval(l,500)}catch(t){console.log(t)}})),[a,s,c,function(t){P[t?"unshift":"push"]((()=>{a=t,o(0,a)}))},function(t){P[t?"unshift":"push"]((()=>{c=t,o(2,c)}))}]}class V extends X{constructor(t){super(),U(this,t,K,J,a,{})}}function Y(t,e,n){const o=t.slice();return o[4]=e[n],o}function Z(t,e,n){const o=t.slice();return o[7]=e[n][0],o[8]=e[n][1],o}function tt(t,e,n){const o=t.slice();return o[11]=e[n],o}function et(t){let e,n,o=t[7]+"";return{c(){e=m("div"),n=p(o),b(e,"class","description-title fredoka py-2 svelte-cemhob")},m(t,o){u(t,e,o),s(e,n)},p(t,e){2&e&&o!==(o=t[7]+"")&&$(n,o)},d(t){t&&d(e)}}}function nt(t){let e,n,o=t[8]+"";return{c(){e=m("div"),n=p(o),b(e,"class","activity-description py-3 svelte-cemhob")},m(t,o){u(t,e,o),s(e,n)},p(t,e){2&e&&o!==(o=t[8]+"")&&$(n,o)},d(t){t&&d(e)}}}function ot(t){let e,n=t[8],o=[];for(let e=0;e<n.length;e+=1)o[e]=rt(tt(t,n,e));return{c(){e=m("ul");for(let t=0;t<o.length;t+=1)o[t].c()},m(t,n){u(t,e,n);for(let t=0;t<o.length;t+=1)o[t].m(e,null)},p(t,r){if(2&r){let i;for(n=t[8],i=0;i<n.length;i+=1){const l=tt(t,n,i);o[i]?o[i].p(l,r):(o[i]=rt(l),o[i].c(),o[i].m(e,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(t){t&&d(e),f(o,t)}}}function rt(t){let e,n,o=t[11]+"";return{c(){e=m("li"),n=p(o),b(e,"class","activity-description svelte-cemhob")},m(t,o){u(t,e,o),s(e,n)},p(t,e){2&e&&o!==(o=t[11]+"")&&$(n,o)},d(t){t&&d(e)}}}function it(t){let e,n,o,r="Description"!==t[7]&&et(t);function i(t,e){return 2&e&&(n=null),null==n&&(n=!!Array.isArray(t[8])),n?ot:nt}let l=i(t,-1),c=l(t);return{c(){r&&r.c(),e=h(),c.c(),o=g()},m(t,n){r&&r.m(t,n),u(t,e,n),c.m(t,n),u(t,o,n)},p(t,n){"Description"!==t[7]?r?r.p(t,n):(r=et(t),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),l===(l=i(t,n))&&c?c.p(t,n):(c.d(1),c=l(t),c&&(c.c(),c.m(o.parentNode,o)))},d(t){r&&r.d(t),t&&d(e),c.d(t),t&&d(o)}}}function lt(t){let e,n,o;var r=t[4].comp;return r&&(e=new r({})),{c(){e&&R(e.$$.fragment),n=g()},m(t,r){e&&B(e,t,r),u(t,n,r),o=!0},p(t,o){if(r!==(r=t[4].comp)){if(e){I();const t=e;H(t.$$.fragment,1,0,(()=>{z(t,1)})),W()}r?(e=new r({}),R(e.$$.fragment),F(e.$$.fragment,1),B(e,n.parentNode,n)):e=null}},i(t){o||(e&&F(e.$$.fragment,t),o=!0)},o(t){e&&H(e.$$.fragment,t),o=!1},d(t){t&&d(n),e&&z(e,t)}}}function ct(t){let e,n,o,r,i,l=(void 0===t[4].title?"":t[4].title)+"",c=void 0!==t[4].comp&&lt(t);return{c(){e=m("div"),n=p(l),o=h(),c&&c.c(),r=h(),b(e,"class","parameter-item svelte-cemhob")},m(t,l){u(t,e,l),s(e,n),s(e,o),c&&c.m(e,null),s(e,r),i=!0},p(t,o){(!i||4&o)&&l!==(l=(void 0===t[4].title?"":t[4].title)+"")&&$(n,l),void 0!==t[4].comp?c?(c.p(t,o),4&o&&F(c,1)):(c=lt(t),c.c(),F(c,1),c.m(e,r)):c&&(I(),H(c,1,1,(()=>{c=null})),W())},i(t){i||(F(c),i=!0)},o(t){H(c),i=!1},d(t){t&&d(e),c&&c.d()}}}function at(t){let e,n,o,r,i,l,c,a,g,v,y,w,_,k,A,P,E,j,D,N,L,M,S,O=Object.entries(t[1]),T=[];for(let e=0;e<O.length;e+=1)T[e]=it(Z(t,O,e));y=new V({});let C=t[2],q=[];for(let e=0;e<C.length;e+=1)q[e]=ct(Y(t,C,e));const Q=t=>H(q[t],1,1,(()=>{q[t]=null}));return{c(){e=m("div"),n=m("div"),o=m("div"),r=p(t[0]),i=h();for(let t=0;t<T.length;t+=1)T[t].c();l=h(),c=m("div"),a=h(),g=m("div"),v=m("div"),R(y.$$.fragment),w=h(),_=m("br"),k=h(),A=m("div"),P=m("div"),E=p("Parameters\n        "),j=m("span"),D=p("info"),N=h();for(let t=0;t<q.length;t+=1)q[t].c();L=h(),M=m("div"),b(o,"class","activity-title fredoka svelte-cemhob"),b(c,"class","p-4"),b(n,"class","col-4 activity-description-area text-left flex-grow-1 p-5 svelte-cemhob"),x(v,"height","24em"),b(j,"class","material-icons param-info svelte-cemhob"),b(j,"data-toggle","tooltip"),b(j,"data-placement","right"),b(j,"title",t[3]),b(P,"class","parameter-title fredoka svelte-cemhob"),b(A,"class","parameter-area d-flex flex-column text-left p-5"),b(M,"class","p-4"),b(g,"class","col-8 activity-interaction-area flex-grow-1 p-5 svelte-cemhob"),b(e,"class","row")},m(t,d){u(t,e,d),s(e,n),s(n,o),s(o,r),s(n,i);for(let t=0;t<T.length;t+=1)T[t].m(n,null);s(n,l),s(n,c),s(e,a),s(e,g),s(g,v),B(y,v,null),s(g,w),s(g,_),s(g,k),s(g,A),s(A,P),s(P,E),s(P,j),s(j,D),s(A,N);for(let t=0;t<q.length;t+=1)q[t].m(A,null);s(g,L),s(g,M),S=!0},p(t,[e]){if((!S||1&e)&&$(r,t[0]),2&e){let o;for(O=Object.entries(t[1]),o=0;o<O.length;o+=1){const r=Z(t,O,o);T[o]?T[o].p(r,e):(T[o]=it(r),T[o].c(),T[o].m(n,l))}for(;o<T.length;o+=1)T[o].d(1);T.length=O.length}if((!S||8&e)&&b(j,"title",t[3]),4&e){let n;for(C=t[2],n=0;n<C.length;n+=1){const o=Y(t,C,n);q[n]?(q[n].p(o,e),F(q[n],1)):(q[n]=ct(o),q[n].c(),F(q[n],1),q[n].m(A,null))}for(I(),n=C.length;n<q.length;n+=1)Q(n);W()}},i(t){if(!S){F(y.$$.fragment,t);for(let t=0;t<C.length;t+=1)F(q[t]);S=!0}},o(t){H(y.$$.fragment,t),q=q.filter(Boolean);for(let t=0;t<q.length;t+=1)H(q[t]);S=!1},d(t){t&&d(e),f(T,t),z(y),f(q,t)}}}function st(t,e,n){let{title:o="Activity X: Example Title"}=e,{description:r={Description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",Definitions:["Image Classification","Image Segmentation","Object Detection"],Questions:["What is the meaning of life?","Why is it so hard?"]}}=e,{webcamParameters:i=[{title:"No parameters to adjust."}]}=e,{parameterDescription:l="Parameters are cool."}=e;return t.$$set=t=>{"title"in t&&n(0,o=t.title),"description"in t&&n(1,r=t.description),"webcamParameters"in t&&n(2,i=t.webcamParameters),"parameterDescription"in t&&n(3,l=t.parameterDescription)},[o,r,i,l]}class ut extends X{constructor(t){super(),U(this,t,st,at,a,{title:0,description:1,webcamParameters:2,parameterDescription:3})}}function dt(t){let e;return{c(){e=m("div"),e.innerHTML='<input type="range" class="custom-range" min="0" max="5" step="0.5" id="customRange"/>',b(e,"class","row")},m(t,n){u(t,e,n)},p:o,i:o,o:o,d(t){t&&d(e)}}}class ft extends X{constructor(t){super(),U(this,t,null,dt,a,{})}}function mt(t){let e,n,r,i,c,a,f,p,g,$;return{c(){e=m("nav"),n=m("div"),n.innerHTML='<span class="material-icons nav-arrow align-middle svelte-1obx1os">chevron_left</span> \n    <span class="module-nav-label align-middle svelte-1obx1os">Previous Activity</span>',r=h(),i=m("div"),c=m("div"),a=m("div"),f=h(),p=m("div"),p.innerHTML='<span class="module-nav-label align-middle svelte-1obx1os">Next Activity</span> \n    <span class="material-icons nav-arrow align-middle svelte-1obx1os">chevron_right</span>',b(n,"class","navbar-brand"),x(n,"cursor","pointer"),b(a,"class","progress-bar svelte-1obx1os"),b(a,"role","progressbar"),x(a,"width",t[0]+"%"),b(a,"aria-valuenow",t[0]),b(a,"aria-valuemin","0"),b(a,"aria-valuemax","100"),b(c,"class","progress svelte-1obx1os"),b(i,"class","d-block w-50"),b(p,"class","navbar-brand"),x(p,"cursor","pointer"),b(e,"class","navbar fixed-bottom module-nav ibm-plex svelte-1obx1os")},m(o,l){u(o,e,l),s(e,n),s(e,r),s(e,i),s(i,c),s(c,a),s(e,f),s(e,p),g||($=[v(n,"click",t[2]),v(p,"click",t[3])],g=!0)},p(t,[e]){1&e&&x(a,"width",t[0]+"%"),1&e&&b(a,"aria-valuenow",t[0])},i:o,o:o,d(t){t&&d(e),g=!1,l($)}}}function pt(t,e,n){let o=0;function r(t){t&&o<100?n(0,o+=10):!t&&o>0&&n(0,o-=10)}return[o,r,()=>r(!1),()=>r(!0)]}class ht extends X{constructor(t){super(),U(this,t,pt,mt,a,{})}}function gt(t){let e,n,r,i,l;return n=new ut({props:{webcamParameters:[{title:"Example parameter"},{comp:ft},{title:"Another title for parameter"}]}}),i=new ht({}),{c(){e=m("main"),R(n.$$.fragment),r=h(),R(i.$$.fragment),b(e,"class","container-fluid d-flex h-100 flex-column py-0 svelte-okg8j8")},m(t,o){u(t,e,o),B(n,e,null),s(e,r),B(i,e,null),l=!0},p:o,i(t){l||(F(n.$$.fragment,t),F(i.$$.fragment,t),l=!0)},o(t){H(n.$$.fragment,t),H(i.$$.fragment,t),l=!1},d(t){t&&d(e),z(n),z(i)}}}return new class extends X{constructor(t){super(),U(this,t,null,gt,a,{})}}({target:document.body})}(faceapi);
//# sourceMappingURL=bundle.js.map
